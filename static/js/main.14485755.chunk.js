(this["webpackJsonpsocial-media-client"]=this["webpackJsonpsocial-media-client"]||[]).push([[0],{117:function(e,t,a){},148:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(14),r=a.n(c),i=(a(117),a(10)),o=a(188),s=a(189),l=a(190),j=a(217),d=a(187),b=a(215),u=a(193),p=a(194),O=a(195),h=a(191),x=a(192),m=a(8),f=a(13),g=a(17),v=a.n(g),y="SET_AUTHENTICATED",N="SET_UNAUTHENTICATED",I="SET_USER",A="LOADING_USER",E="MARK_NOTIFICATIONS_READ",C="SET_ERRORS",w="LOADING_UI",T="CLEAR_ERRORS",S="STOP_LOADING",B="SET_POST",F="SET_POSTS",k="LOADING_DATA",D="LIKE_POST",W="UNLIKE_POST",U="DELETE_POST",R="CREATE_POST",z="SUBMIT_COMMENT",L=function(){return function(e){e({type:A}),v.a.get("/user/getAuthenticatedUser").then((function(t){e({type:I,payload:t.data})})).catch((function(e){return console.log(e)}))}},Y=function(){return function(e){localStorage.removeItem("FBIdToken"),delete v.a.defaults.headers.common.Authorization,e({type:N})}},P=a(179),q=a(216),V=a(51),X=a(97),Z=a(62),K=a.n(Z),J=a(28),M=a(183),Q=a(184),G=a(1);var H=function(){var e,t=Object(m.b)(),a=Object(n.useState)(null),c=Object(i.a)(a,2),r=c[0],o=c[1],s=Object(m.c)((function(e){return e.user})).notifications,l=function(){var e,a=s.filter((function(e){return!e.read})).map((function(e){return e.notificationId}));t((e=a,function(t){v.a.post("/user/notifications",e).then((function(e){t({type:E})})).catch((function(e){console.log(e)}))}))},b=function(){o(null),l()};e=s&&s.length>0&&s.filter((function(e){return!1===e.read})).length>0?Object(G.jsx)(P.a,{badgeContent:s.filter((function(e){return!1===e.read})).length,color:"secondary",children:Object(G.jsx)(K.a,{})}):Object(G.jsx)(K.a,{});var u=s&&s.length>0?s.map((function(e){var t="like"===e.type?"liked":"commented on",a=Object(J.a)(e.createdAt),n=e.read?"primary":"secondary",c="like"===e.type?Object(G.jsx)(M.a,{color:n,style:{marginRight:10}}):Object(G.jsx)(Q.a,{color:n,style:{marginRight:10}});return Object(G.jsxs)(q.a,{onClick:b,children:[c,Object(G.jsxs)(V.a,{component:f.b,variant:"body1",color:n,to:"/users/".concat(e.recipient,"/post/").concat(e.postId),children:[e.sender," ",t," your post ",a]})]},e.createdAt)})):Object(G.jsx)(q.a,{onClick:b,children:"You have no notifications yet."});return Object(G.jsxs)(n.Fragment,{children:[Object(G.jsx)(j.a,{placement:"top",title:"Notifications",children:Object(G.jsx)(d.a,{"aria-owns":r?"simple menu":void 0,"aria-haspopup":"true","aria-controls":"not-menu",onClick:function(e){o(e.currentTarget)},children:e})}),Object(G.jsx)(X.a,{anchorEl:r,id:"not-menu",open:Boolean(r),onClose:b,style:{marginTop:50},children:u})]})},_=Object(o.a)({navContainer:{margin:"auto","& SVG":{color:"#fff"}}});function $(){var e=Object(m.b)(),t=_(),a=Object(m.c)((function(e){return e.user})).authenticated,c=Object(n.useState)(!1),r=Object(i.a)(c,2),o=r[0],g=r[1],v=function(){g(!1)};return Object(G.jsx)("div",{children:Object(G.jsx)(s.a,{position:"fixed",children:Object(G.jsx)(l.a,{className:t.navContainer,children:a?Object(G.jsxs)(n.Fragment,{children:[Object(G.jsx)(j.a,{title:"Home",placement:"top",children:Object(G.jsx)(f.b,{to:"/",children:Object(G.jsx)(d.a,{children:Object(G.jsx)(h.a,{})})})}),Object(G.jsx)(H,{}),Object(G.jsx)(j.a,{title:"Logout",placement:"top",children:Object(G.jsx)(d.a,{onClick:function(){g(!0)},children:Object(G.jsx)(x.a,{color:"secondary"})})}),Object(G.jsxs)(b.a,{open:o,onClose:v,fullWidth:!0,maxWidth:"xs",children:[Object(G.jsx)(u.a,{children:"Are you sure want logout?"}),Object(G.jsxs)(p.a,{children:[Object(G.jsx)(O.a,{onClick:v,color:"primary",variant:"outlined",children:"Cancel"}),Object(G.jsx)(O.a,{onClick:function(){e(Y()),g(!1),window.location.href="/"},color:"secondary",variant:"outlined",children:"Logout"})]})]})]}):Object(G.jsxs)(n.Fragment,{children:[Object(G.jsx)(O.a,{color:"inherit",component:f.b,to:"/login",children:"Login"}),Object(G.jsx)(O.a,{color:"inherit",component:f.b,to:"/",children:"Home"}),Object(G.jsx)(O.a,{color:"inherit",component:f.b,to:"/signup",children:"Signup"})]})})})})}var ee=a(15),te=a(196),ae=a(213),ne=a(197),ce="data:image/png;base64,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",re=Object(o.a)({textField:{margin:"15px 0",width:300},grid:{textAlign:"center"},form:{display:"flex",flexDirection:"column",alignItems:"center"},button:{margin:"20px 0",width:200,height:40,position:"relative"},error:{color:"red"},progress:{position:"absolute"}});var ie=function(){var e=Object(m.c)((function(e){return e})).UI,t=e.loading,a=e.errors,c=re(),r=Object(n.useState)(),o=Object(i.a)(r,2),s=o[0],l=o[1],j=Object(n.useState)(),d=Object(i.a)(j,2),b=d[0],u=d[1],p=Object(m.b)(),h=Object(ee.g)();return Object(G.jsx)("div",{children:Object(G.jsx)(te.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:Object(G.jsxs)(te.a,{item:!0,sm:!0,className:c.grid,children:[Object(G.jsx)("img",{src:ce,alt:"icon"}),Object(G.jsx)(V.a,{variant:"h2",children:"Login"}),Object(G.jsxs)("form",{onSubmit:function(e){e.preventDefault(),p(function(e,t){return function(a){a({type:w}),v.a.post("/user/login",e).then((function(e){var n="Bearer ".concat(e.data.token);localStorage.setItem("FBIdToken",n),v.a.defaults.headers.common.Authorization=n,a(L()),a({type:T}),t.push("/")})).catch((function(e){a({type:C,payload:e.response.data})}))}}({email:s,password:b},h))},className:c.form,children:[Object(G.jsx)(ae.a,{variant:"outlined",label:"Email",type:"email",onChange:function(e){return l(e.target.value)},className:c.textField,required:!0}),Object(G.jsx)(ae.a,{variant:"outlined",label:"Password",type:"password",onChange:function(e){return u(e.target.value)},className:c.textField,required:!0}),a.general&&Object(G.jsx)(V.a,{variant:"body2",className:c.error,children:a.general}),Object(G.jsx)(O.a,{type:"submit",variant:"contained",color:"primary",className:c.button,disabled:t,children:t?Object(G.jsx)(ne.a,{className:c.progress,color:"secondary",size:30}):"Login"}),Object(G.jsxs)("p",{children:["Don't have an account? sign up"," ",Object(G.jsx)(f.b,{to:"/signup",children:"here"})]})]})]})})})},oe=Object(o.a)({textField:{margin:"15px 0",width:300},grid:{textAlign:"center"},form:{display:"flex",flexDirection:"column",alignItems:"center"},button:{margin:"20px 0",width:200,height:40,position:"relative"},error:{color:"red"},progress:{position:"absolute"}});function se(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e})).UI,a=t.errors,c=t.loading,r=oe(),o=Object(n.useState)(),s=Object(i.a)(o,2),l=s[0],j=s[1],d=Object(n.useState)(),b=Object(i.a)(d,2),u=b[0],p=b[1],h=Object(n.useState)(),x=Object(i.a)(h,2),g=x[0],y=x[1],N=Object(n.useState)(),I=Object(i.a)(N,2),A=I[0],E=I[1],S=Object(ee.g)();return Object(G.jsx)("div",{children:Object(G.jsx)(te.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:Object(G.jsxs)(te.a,{item:!0,sm:!0,className:r.grid,children:[Object(G.jsx)("img",{src:ce,alt:"icon"}),Object(G.jsx)(V.a,{variant:"h2",children:"Signup"}),Object(G.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(function(e,t){return function(a){a({type:w}),v.a.post("/user/signup",e).then((function(e){var n="Bearer ".concat(e.data.token);localStorage.setItem("FBIdToken",n),v.a.defaults.headers.common.Authorization=n,a(L()),a({type:T}),t.push("/")})).catch((function(e){a({type:C,payload:e.response.data})}))}}({email:l,password:u,confirmPassword:g,handle:A},S))},className:r.form,children:[Object(G.jsx)(ae.a,{variant:"outlined",label:"Email",type:"email",helperText:a.email,error:!!a.email,onChange:function(e){return j(e.target.value)},className:r.textField,required:!0}),Object(G.jsx)(ae.a,{variant:"outlined",label:"Password",type:"password",helperText:a.password,error:!!a.password,onChange:function(e){return p(e.target.value)},className:r.textField,required:!0}),Object(G.jsx)(ae.a,{variant:"outlined",label:"Confirm Password",type:"password",helperText:a.password,error:!!a.password,onChange:function(e){return y(e.target.value)},className:r.textField,required:!0}),Object(G.jsx)(ae.a,{variant:"outlined",label:"Handle",type:"text",helperText:a.handle,error:!!a.handle,onChange:function(e){return E(e.target.value)},className:r.textField,required:!0}),a.general&&Object(G.jsx)(V.a,{variant:"body2",className:r.error,children:a.general}),Object(G.jsx)(O.a,{type:"submit",variant:"contained",color:"primary",className:r.button,disabled:c,children:c?Object(G.jsx)(ne.a,{className:r.progress,color:"secondary",size:30}):"Signup"}),Object(G.jsxs)("p",{children:["Already have an account? Login"," ",Object(G.jsx)(f.b,{to:"/login",children:"here"})]})]})]})})})}var le=a(198),je=a(199),de=a(200),be=a(218),ue=Object(o.a)({card:{margin:"0 20px",marginBottom:15},button:{flexDirection:"row-reverse"}});var pe=function(e){var t=e.credentials,a=Object(m.b)(),c=Object(n.useState)(),r=Object(i.a)(c,2),o=r[0],s=r[1],l=Object(m.c)((function(e){return e.UI})).loading,j=ue();return Object(G.jsx)(le.a,{className:j.card,children:Object(G.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault(),a((t={body:o},function(e){e({type:w}),v.a.post("/post",t).then((function(t){e({type:R,payload:t.data}),e({type:T})})).catch((function(t){e({type:C,payload:t.response.data})}))})),e.target.reset()},children:[Object(G.jsx)(je.a,{avatar:Object(G.jsx)(be.a,{"aria-label":"recipe",src:t.imageUrl}),title:Object(G.jsx)(ae.a,{required:!0,variant:"outlined",placeholder:"Whats in your mind, ".concat(t.handle),fullWidth:!0,multiline:!0,rows:2,onChange:function(e){return s(e.target.value)}})}),Object(G.jsx)(de.a,{className:j.button,children:Object(G.jsx)(O.a,{color:"secondary",type:"submit",variant:"outlined",disabled:l,children:"Share"})})]})})},Oe=a(207),he=a(203),xe=a(201);var me=function(e){var t=e.postId,a=Object(m.b)(),c=Object(n.useState)(!1),r=Object(i.a)(c,2),o=r[0],s=r[1],l=function(){s(!1)};return Object(G.jsxs)(n.Fragment,{children:[Object(G.jsx)(j.a,{title:"Delete post",placement:"top",children:Object(G.jsx)(d.a,{onClick:function(){s(!0)},children:Object(G.jsx)(xe.a,{color:"secondary"})})}),Object(G.jsxs)(b.a,{open:o,onClose:l,fullWidth:!0,maxWidth:"xs",children:[Object(G.jsx)(u.a,{children:"Are you sure want to delete this post?"}),Object(G.jsxs)(p.a,{children:[Object(G.jsx)(O.a,{onClick:l,color:"primary",children:"Cancel"}),Object(G.jsx)(O.a,{onClick:function(){a(function(e){return function(t){v.a.delete("/post/".concat(e)).then((function(){t({type:U,payload:e})})).catch((function(e){return console.log(e)}))}}(t)),s(!1)},color:"secondary",children:"Delete"})]})]})]})},fe=a(206),ge=a(204),ve=a(205),ye=a(202),Ne=a(93),Ie=a.n(Ne);var Ae=function(e){var t=e.postId,a=Object(m.b)(),n=Object(m.c)((function(e){return e})).user,c=n.likes,r=n.authenticated?c&&c.find((function(e){return e.postId===t}))?Object(G.jsx)(j.a,{title:"Undo like",placement:"top-end",children:Object(G.jsx)(f.b,{to:"/login",children:Object(G.jsx)(d.a,{"aria-label":"share",onClick:function(){a(function(e){return function(t){v.a.get("/post/unlike/".concat(e)).then((function(e){t({type:W,payload:e.data})})).catch((function(e){return console.log(e)}))}}(t))},children:Object(G.jsx)(Ie.a,{color:"secondary"})})})}):Object(G.jsx)(j.a,{title:"Like",placement:"top-end",children:Object(G.jsx)(f.b,{to:"/login",children:Object(G.jsx)(d.a,{"aria-label":"share",onClick:function(){a(function(e){return function(t){v.a.get("/post/like/".concat(e)).then((function(e){t({type:D,payload:e.data})})).catch((function(e){return console.log(e)}))}}(t))},children:Object(G.jsx)(ye.a,{color:"secondary"})})})}):Object(G.jsx)(j.a,{title:"Like",placement:"top-end",children:Object(G.jsx)(f.b,{to:"/login",children:Object(G.jsx)(d.a,{"aria-label":"share",children:Object(G.jsx)(ye.a,{color:"secondary"})})})});return r},Ee=Object(o.a)({invisibleSeparator:{border:"none",margin:4},visibleSeparator:{width:"100%",borderBottom:"1px solid rgba(0,0,0,0.1)",margin:"10px 0"},profilePic:{maxWidth:"100%",height:70,objectFit:"cover",borderRadius:"50%"},commentData:{marginLeft:20}});var Ce=function(e){var t=e.comments,a=Ee();return Object(G.jsx)(te.a,{container:!0,children:t.map((function(e,c){var r=e.body,i=e.createdAt,o=e.userImage,s=e.userHandle;return Object(G.jsxs)(n.Fragment,{children:[Object(G.jsx)(te.a,{item:!0,sm:12,children:Object(G.jsxs)(te.a,{container:!0,children:[Object(G.jsx)(te.a,{item:!0,sm:2,children:Object(G.jsx)("img",{src:o,alt:"profile pic",className:a.profilePic})}),Object(G.jsx)(te.a,{item:!0,sm:9,children:Object(G.jsxs)("div",{className:a.commentData,children:[Object(G.jsx)(V.a,{variant:"h6",component:f.b,to:"/users/".concat(s),children:s}),Object(G.jsx)(V.a,{variant:"body2",color:"textSecondary",children:Object(J.a)(i)}),Object(G.jsx)("hr",{className:a.invisibleSeparator}),Object(G.jsx)(V.a,{variant:"body1",children:r})]})})]})}),c!==t.length-1&&Object(G.jsx)("hr",{className:a.visibleSeparator})]},i)}))})},we=Object(o.a)({button:{},visibleSeparator:{width:"100%",borderBottom:"1px solid rgba(0,0,0,0.1)",margin:"10px 0"},profilePic:{maxWidth:"100%",height:60,borderRadius:"50%",objectFit:"cover"},commentBody:{marginLeft:10}});var Te=function(e){var t=e.postId,a=we(),c=Object(m.b)(),r=Object(m.c)((function(e){return e.user})),o=r.authenticated,s=r.credentials.imageUrl,l=Object(n.useState)(),j=Object(i.a)(l,2),d=j[0],b=j[1],u=o?Object(G.jsxs)(te.a,{item:!0,sm:12,style:{textAlign:"center"},children:[Object(G.jsx)("form",{onSubmit:function(e){e.preventDefault(),c(function(e,t){return function(a){v.a.post("/post/comment/".concat(e),t).then((function(e){a({type:z,payload:e.data})})).catch((function(e){console.log(e)}))}}(t,{body:d})),e.target.reset()},children:Object(G.jsxs)(te.a,{container:!0,children:[Object(G.jsx)(te.a,{item:!0,sm:2,children:Object(G.jsx)("img",{src:s,alt:"profile pic",className:a.profilePic})}),Object(G.jsx)(te.a,{item:!0,sm:7,xs:9,children:Object(G.jsx)(ae.a,{type:"text",label:"Comment on post",required:!0,onChange:function(e){return b(e.target.value)},fullWidth:!0,className:a.commentBody})}),Object(G.jsx)(te.a,{item:!0,sm:3,xs:12,children:Object(G.jsx)(O.a,{type:"submit",variant:"contained",className:a.button,children:"Submit"})})]})}),Object(G.jsx)("hr",{className:a.visibleSeparator})]}):null;return u},Se=Object(o.a)({invisibleSeparator:{border:"none",margin:4},visibleSeparator:{width:"100%",borderBottom:"1px solid rgba(0,0,0,0.1)",margin:"10px 0"},profilePic:{maxWidth:200,height:200,borderRadius:"50%",objectFit:"cover"},dialogContent:{padding:20},closeButton:{position:"absolute",left:"90%"},progressDiv:{textAlign:"center",margin:"20px 0"},expandButton:{display:"flex",marginLeft:"auto"}});var Be=function(e){var t=e.postId,a=e.userHandle,c=e.openDialog,r=Se(),o=Object(m.b)(),s=Object(n.useState)(!1),l=Object(i.a)(s,2),u=l[0],p=l[1],O=Object(n.useState)(""),h=Object(i.a)(O,2),x=h[0],g=h[1],y=Object(m.c)((function(e){return e})),N=y.data.post,I=N.userImage,A=N.createdAt,E=N.body,C=N.likeCount,T=N.commentCount,F=N.comments,k=y.UI;Object(n.useEffect)((function(){c&&D()}),[]);var D=function(){var e=window.location.pathname,n="/users/".concat(a,"/post/").concat(t);e===n&&(e="/users/".concat(a)),window.history.pushState(null,null,n),g(e),p(!0),o(function(e){return function(t){t({type:w}),v.a.get("/post/".concat(e)).then((function(e){t({type:B,payload:e.data}),t({type:S})})).catch((function(e){console.log(e)}))}}(t))},W=function(){window.history.pushState(null,null,x),p(!1)},U=k.loading?Object(G.jsx)("div",{className:r.progressDiv,children:Object(G.jsx)(ne.a,{size:200,thickness:2})}):Object(G.jsxs)(te.a,{container:!0,children:[Object(G.jsx)(te.a,{item:!0,sm:5,children:Object(G.jsx)("img",{src:I,alt:"Profile Pic",className:r.profilePic})}),Object(G.jsxs)(te.a,{item:!0,sm:7,children:[Object(G.jsxs)(V.a,{component:f.b,color:"primary",variant:"h5",to:"/users/".concat(a),children:["@",a]}),Object(G.jsx)("hr",{className:r.invisibleSeparator}),Object(G.jsx)(V.a,{variant:"body2",color:"textSecondary",children:Object(J.a)(A)}),Object(G.jsx)("hr",{className:r.invisibleSeparator}),Object(G.jsx)(V.a,{variant:"body1",children:E}),Object(G.jsx)(Ae,{postId:t}),Object(G.jsxs)("span",{children:[C," Likes"]}),Object(G.jsx)(j.a,{title:"Comment",placement:"top-end",children:Object(G.jsx)(d.a,{"aria-label":"share",children:Object(G.jsx)(he.a,{color:"secondary"})})}),Object(G.jsxs)("span",{children:[T," Comments"]})]}),Object(G.jsx)("hr",{className:r.visibleSeparator}),Object(G.jsx)(Te,{postId:t}),Object(G.jsx)(Ce,{comments:F})]});return Object(G.jsxs)(n.Fragment,{children:[Object(G.jsx)(j.a,{title:"Expand post",placement:"top-end",children:Object(G.jsx)(d.a,{"aria-label":"share",onClick:D,className:r.expandButton,children:Object(G.jsx)(ge.a,{color:"secondary"})})}),Object(G.jsxs)(b.a,{open:u,onClose:W,fullWidth:!0,maxWidth:"sm",children:[Object(G.jsx)(j.a,{title:"Close",placement:"top-end",children:Object(G.jsx)(d.a,{"aria-label":"share",onClick:W,className:r.closeButton,children:Object(G.jsx)(ve.a,{color:"secondary"})})}),Object(G.jsx)(fe.a,{className:r.dialogContent,children:U})]})]})},Fe=Object(o.a)({card:{margin:"0 20px",marginBottom:15}});function ke(e){var t=e.post,a=e.openDialog,n=Object(m.c)((function(e){return e})).user,c=n.authenticated,r=n.credentials.handle,i=Fe(),o=c&&t.userHandle===r?Object(G.jsx)(me,{postId:t.postId}):null;return Object(G.jsxs)(le.a,{className:i.card,children:[Object(G.jsx)(je.a,{avatar:Object(G.jsx)(be.a,{"aria-label":"recipe",src:t.userImage}),action:o,title:Object(G.jsx)(V.a,{color:"primary",component:f.b,to:"/users/".concat(t.userHandle),children:t.userHandle}),subheader:Object(J.a)(t.createdAt)}),Object(G.jsx)(Oe.a,{children:Object(G.jsx)(V.a,{variant:"body2",color:"inherit",children:t.body})}),Object(G.jsxs)(de.a,{disableSpacing:!0,children:[Object(G.jsx)(Ae,{postId:t.postId}),Object(G.jsxs)("span",{children:[t.likeCount," Likes"]}),Object(G.jsx)(j.a,{title:"Comment",placement:"top-end",children:Object(G.jsx)(d.a,{"aria-label":"share",children:Object(G.jsx)(he.a,{color:"secondary"})})}),Object(G.jsxs)("span",{children:[t.commentCount," Comments"]}),Object(G.jsx)(Be,{postId:t.postId,userHandle:t.userHandle,openDialog:a})]})]})}var De=a(100),We=a(211),Ue=a(208),Re=a(209),ze=a(210),Le=a(47),Ye=a.n(Le),Pe=Object(o.a)({form:{padding:"0 20px"},textField:{margin:"10px auto 10px auto"},button:{margin:"10px auto",display:"flex"}});var qe=function(){var e=Pe(),t=Object(m.b)(),a=Object(n.useState)(!1),c=Object(i.a)(a,2),r=c[0],o=c[1],s=Object(n.useState)(),l=Object(i.a)(s,2),j=l[0],d=l[1],h=Object(n.useState)(),x=Object(i.a)(h,2),f=x[0],g=x[1],y=Object(n.useState)(),N=Object(i.a)(y,2),I=N[0],E=N[1],C=Object(m.c)((function(e){return e.user})).credentials,w=function(e){d(e.bio?e.bio:""),g(e.website?e.website:""),E(e.location?e.location:"")},T=function(){o(!1)};return Object(n.useEffect)((function(){w(C)}),[C]),Object(G.jsxs)(n.Fragment,{children:[Object(G.jsxs)(O.a,{onClick:function(){o(!0),w(C)},variant:"outlined",color:"secondary",className:e.button,children:[Object(G.jsx)(Ue.a,{color:"secondary"}),Object(G.jsx)("span",{children:"Edit Profile"})]}),Object(G.jsxs)(b.a,{open:r,onClose:T,fullWidth:!0,maxWidth:"sm",children:[Object(G.jsx)(u.a,{children:"Edit your details."}),Object(G.jsx)(fe.a,{children:Object(G.jsxs)("form",{className:e.form,children:[Object(G.jsx)(ae.a,{name:"bio",focused:!0,className:e.textField||"",type:"text",label:"Bio",multiline:!0,rows:3,placeholder:"A short bio about yourself",fullWidth:!0,value:j,onChange:function(e){return d(e.target.value)}}),Object(G.jsx)(ae.a,{name:"website",focused:!0,className:e.textField,type:"text",label:"Website",placeholder:"Your personal/professional website",fullWidth:!0,value:f,onChange:function(e){return g(e.target.value)}}),Object(G.jsx)(ae.a,{name:"location",focused:!0,className:e.textField,type:"text",label:"Location",placeholder:"Where you live",fullWidth:!0,value:I,onChange:function(e){return E(e.target.value)}})]})}),Object(G.jsxs)(p.a,{children:[Object(G.jsx)(O.a,{onClick:T,color:"primary",children:"Cancel"}),Object(G.jsx)(O.a,{onClick:function(){t(function(e){return function(t){t({type:A}),v.a.post("/user/addUserDetails",e).then((function(){t(L())})).catch((function(e){return console.log(e)}))}}({bio:j,website:f,location:I})),T()},color:"primary",children:"Save"})]})]})]})},Ve=a.p+"static/media/no-img.c3f94521.png",Xe=Object(o.a)({paper:{padding:20,marginBottom:20},profile:{"& .image-wrapper":{textAlign:"center",position:"relative","& button":{position:"absolute",top:"80%",left:"70%"}},"& .profile-image":{width:200,height:200,objectFit:"cover",maxWidth:"100%",borderRadius:"50%"},"& .profile-details":{textAlign:"center","& span, svg":{verticalAlign:"middle"},"& a":{color:"#00bcd4"}},"& hr":{border:"none",margin:"0 0 10px 0"},"& svg.button":{"&:hover":{cursor:"pointer"}}},handle:{height:20,backgroundColor:"rgba(0,0,0, 0.6)",width:80,margin:"0 auto 7px auto"},fullLine:{height:15,backgroundColor:"rgba(0,0,0,0.6)",width:"100%",marginBottom:10},halfLine:{height:15,backgroundColor:"rgba(0,0,0,0.6)",width:"50%",marginBottom:10}});var Ze=function(){var e=Xe();return Object(G.jsx)(De.a,{className:e.paper,children:Object(G.jsxs)("div",{className:e.profile,children:[Object(G.jsx)("div",{className:"image-wrapper",children:Object(G.jsx)("img",{src:Ve,alt:"profilePic",className:"profile-image"})}),Object(G.jsx)("hr",{}),Object(G.jsxs)("div",{className:"profile-details",children:[Object(G.jsx)("div",{className:e.handle}),Object(G.jsx)("hr",{}),Object(G.jsx)("div",{className:e.fullLine}),Object(G.jsx)("div",{className:e.fullLine}),Object(G.jsx)("hr",{}),Object(G.jsx)(Re.a,{color:"primary"})," ",Object(G.jsx)("span",{children:"Location"}),Object(G.jsx)("hr",{}),Object(G.jsx)(Ye.a,{color:"primary"})," https://website.com",Object(G.jsx)("hr",{}),Object(G.jsx)(ze.a,{color:"primary"})," Joined date"]})]})})},Ke=Object(o.a)({paper:{padding:20,marginBottom:20},profile:{"& .image-wrapper":{textAlign:"center",position:"relative","& button":{position:"absolute",top:"80%",left:"70%"}},"& .profile-image":{width:200,height:200,objectFit:"cover",maxWidth:"100%",borderRadius:"50%"},"& .profile-details":{textAlign:"center","& span, svg":{verticalAlign:"middle"},"& a":{color:"#00bcd4"}},"& hr":{border:"none",margin:"0 0 10px 0"},"& svg.button":{"&:hover":{cursor:"pointer"}}},buttons:{textAlign:"center","& a":{margin:"20px 10px"}},editButton:{display:"flex",margin:"auto"}});var Je=function(){var e=Ke(),t=Object(m.b)(),a=Object(m.c)((function(e){return e})).user,c=a.credentials,r=a.loading,i=a.authenticated,o=r?Object(G.jsx)(Ze,{}):i?Object(G.jsx)(De.a,{className:e.paper,children:Object(G.jsxs)("div",{className:e.profile,children:[Object(G.jsxs)("div",{className:"image-wrapper",children:[Object(G.jsx)("img",{src:c.imageUrl,alt:"profilePic",className:"profile-image"}),Object(G.jsx)("input",{type:"file",id:"imageInput",onChange:function(e){var a=e.target.files[0],n=new FormData;n.append("image",a,a.name),t(function(e){return function(t){t({type:A}),v.a.post("/user/image",e).then((function(){t(L())})).catch((function(e){console.log(e)}))}}(n))},hidden:"hidden"}),Object(G.jsx)(j.a,{title:"Edit profile picture",placement:"top",children:Object(G.jsx)(d.a,{onClick:function(){document.getElementById("imageInput").click()},children:Object(G.jsx)(Ue.a,{color:"secondary"})})})]}),Object(G.jsx)("hr",{}),Object(G.jsxs)("div",{className:"profile-details",children:[Object(G.jsxs)(We.a,{component:f.b,to:"/users/".concat(c.handle),variant:"h5",style:{color:"#000a12"},children:["@",c.handle]}),Object(G.jsx)("hr",{}),c.bio&&Object(G.jsx)(V.a,{variant:"body2",children:c.bio}),Object(G.jsx)("hr",{}),c.location&&Object(G.jsxs)(n.Fragment,{children:[Object(G.jsx)(Re.a,{}),Object(G.jsx)("span",{children:c.location}),Object(G.jsx)("hr",{})]}),c.website&&Object(G.jsxs)(n.Fragment,{children:[Object(G.jsx)(Ye.a,{}),Object(G.jsxs)("a",{href:c.website,target:"_blank",rel:"noopener noreferrer",style:{color:"#000a12"},children:[" ",c.website]}),Object(G.jsx)("hr",{})]}),Object(G.jsx)(ze.a,{color:"primary"}),Object(G.jsxs)("span",{children:["Joined ",Object(J.a)(c.createdAt)]})]}),Object(G.jsx)(qe,{className:e.editButton})]})}):Object(G.jsxs)(De.a,{className:e.paper,children:[Object(G.jsx)(V.a,{variant:"body2",align:"center",children:"No profile found, please login again."}),Object(G.jsxs)("div",{className:e.buttons,children:[Object(G.jsx)(O.a,{variant:"contained",color:"primary",component:f.b,to:"/login",children:"Login"}),Object(G.jsx)(O.a,{variant:"contained",color:"secondary",component:f.b,to:"/signup",children:"Signup"})]})]});return o},Me=Object(o.a)({card:{margin:"0 20px",marginBottom:15},title:{width:"30%",height:12,backgroundColor:"rgba(0,0,0, 0.6)",marginBottom:3},time:{width:"15%",height:10,backgroundColor:"rgba(0,0,0, 0.6)"},fullLine:{height:15,width:"90%",backgroundColor:"#939294",marginBottom:10},halfLine:{height:15,width:"50%",backgroundColor:"#939294",marginBottom:10}});var Qe=function(){var e=Me(),t=Array.from({length:5}).map((function(t,a){return Object(G.jsxs)(le.a,{className:e.card,children:[Object(G.jsx)(je.a,{avatar:Object(G.jsx)(be.a,{"aria-label":"recipe",src:Ve}),title:Object(G.jsx)("div",{className:e.title}),subheader:Object(G.jsx)("div",{className:e.time})}),Object(G.jsxs)(Oe.a,{children:[Object(G.jsx)("div",{className:e.fullLine}),Object(G.jsx)("div",{className:e.fullLine}),Object(G.jsx)("div",{className:e.halfLine})]})]},a)}));return Object(G.jsx)(n.Fragment,{children:t})};function Ge(){var e=Object(m.b)();Object(n.useEffect)((function(){e((function(e){e({type:k}),v.a.get("/post/all").then((function(t){e({type:F,payload:t.data})})).catch((function(t){e({type:B,payload:[]})}))}))}),[e]);var t=Object(m.c)((function(e){return e.user})),a=t.authenticated,c=t.credentials,r=t.loading,i=Object(m.c)((function(e){return e.data})),o=i.posts,s=i.loading,l=a&&!r?Object(G.jsx)(pe,{credentials:c}):null;return Object(G.jsxs)(te.a,{container:!0,children:[Object(G.jsx)(te.a,{item:!0,sm:4,xs:12,children:Object(G.jsx)(Je,{})}),Object(G.jsxs)(te.a,{item:!0,sm:8,xs:12,children:[l,s?Object(G.jsx)(Qe,{}):o.map((function(e){return Object(G.jsx)(ke,{post:e},e.postId)}))]})]})}var He=a(94),_e=a(9),$e=a(3),et=["component"],tt=function(e){var t=e.component,a=Object($e.a)(e,et),n=Object(m.c)((function(e){return e.user})).authenticated;return Object(G.jsx)(ee.b,Object(_e.a)(Object(_e.a)({},a),{},{render:function(e){return!0===n?Object(G.jsx)(ee.a,{to:"/"}):Object(G.jsx)(t,Object(_e.a)({},e))}}))},at={palette:{primary:{light:"#4f5b62",main:"#263238",dark:"#000a12",contrastText:"#ffffff"},secondary:{light:"#ff5f52",main:"#c62828",dark:"#8e0000",contrastText:"#ffffff"}}},nt=a(55),ct=a(95),rt=a(26),it={authenticated:!1,loading:!1,credentials:{},likes:[],notifications:[]};var ot={loading:!1,errors:{}};var st={posts:[],post:{},loading:!1};var lt=[ct.a],jt=Object(nt.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(_e.a)(Object(_e.a)({},e),{},{authenticated:!0});case N:return it;case I:return Object(_e.a)({authenticated:!0,loading:!1},t.payload);case A:return Object(_e.a)(Object(_e.a)({},e),{},{loading:!0});case D:return Object(_e.a)(Object(_e.a)({},e),{},{likes:[].concat(Object(rt.a)(e.likes),[{userHandle:e.credentials.handle,postId:t.payload.postId}])});case W:return Object(_e.a)(Object(_e.a)({},e),{},{likes:e.likes.filter((function(e){return e.postId!==t.payload.postId}))});case E:return e.notifications.forEach((function(e){return e.read=!0})),Object(_e.a)({},e);default:return e}},data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(_e.a)(Object(_e.a)({},e),{},{loading:!0});case F:return Object(_e.a)(Object(_e.a)({},e),{},{posts:t.payload,loading:!1});case B:return Object(_e.a)(Object(_e.a)({},e),{},{post:t.payload});case R:return Object(_e.a)(Object(_e.a)({},e),{},{posts:[t.payload].concat(Object(rt.a)(e.posts))});case D:case W:var a=e.posts.findIndex((function(e){return e.postId===t.payload.postId}));return e.posts[a]=t.payload,e.post.postId===t.payload.postId&&(e.post=t.payload),Object(_e.a)({},e);case z:return Object(_e.a)(Object(_e.a)({},e),{},{post:Object(_e.a)(Object(_e.a)({},e.post),{},{comments:[t.payload].concat(Object(rt.a)(e.post.comments))})});case U:var n=e.posts.findIndex((function(e){return e.postId===t.payload}));return e.posts.splice(n,1),Object(_e.a)({},e);default:return e}},UI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(_e.a)(Object(_e.a)({},e),{},{loading:!1,errors:t.payload});case T:return Object(_e.a)(Object(_e.a)({},e),{},{loading:!1,errors:{}});case w:return Object(_e.a)(Object(_e.a)({},e),{},{loading:!0});case S:return Object(_e.a)(Object(_e.a)({},e),{},{loading:!1});default:return e}}}),dt=Object(nt.d)(jt,{},Object(nt.c)(nt.a.apply(void 0,lt),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),bt=a(96),ut=a(212),pt=Object(o.a)({paper:{padding:20,marginBottom:20},profile:{"& .image-wrapper":{textAlign:"center",position:"relative"},"& .profile-image":{width:200,height:200,objectFit:"cover",maxWidth:"100%",borderRadius:"50%"},"& .profile-details":{textAlign:"center","& span, svg":{verticalAlign:"middle"},"& a":{color:"#00bcd4"}},"& hr":{border:"none",margin:"0 0 10px 0"}}});var Ot=function(e){var t=e.profile,a=pt(),c=t.handle,r=t.createdAt,i=t.imageUrl,o=t.bio,s=t.website,l=t.location;return Object(G.jsx)(De.a,{className:a.paper,children:Object(G.jsxs)("div",{className:a.profile,children:[Object(G.jsx)("div",{className:"image-wrapper",children:Object(G.jsx)("img",{src:i,alt:"profilePic",className:"profile-image"})}),Object(G.jsx)("hr",{}),Object(G.jsxs)("div",{className:"profile-details",children:[Object(G.jsxs)(We.a,{component:f.b,to:"/users/".concat(c),variant:"h5",style:{color:"#000a12"},children:["@",c]}),Object(G.jsx)("hr",{}),o&&Object(G.jsx)(V.a,{variant:"body2",children:o}),Object(G.jsx)("hr",{}),l&&Object(G.jsxs)(n.Fragment,{children:[Object(G.jsx)(Re.a,{}),Object(G.jsx)("span",{children:l}),Object(G.jsx)("hr",{})]}),s&&Object(G.jsxs)(n.Fragment,{children:[Object(G.jsx)(Ye.a,{}),Object(G.jsxs)("a",{href:s,target:"_blank",rel:"noopener noreferrer",style:{color:"#000a12"},children:[" ",s]}),Object(G.jsx)("hr",{})]}),Object(G.jsx)(ze.a,{color:"primary"}),Object(G.jsxs)("span",{children:["Joined ",Object(J.a)(r)]})]})]})})};var ht=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.data})),a=t.posts,c=t.loading,r=Object(n.useState)(null),o=Object(i.a)(r,2),s=o[0],l=o[1],j=Object(n.useState)(null),d=Object(i.a)(j,2),b=d[0],u=d[1],p=Object(ee.h)(),O=p.handle,h=p.postId;Object(n.useEffect)((function(){var t;h&&u(h),e((t=O,function(e){e({type:k}),v.a.get("/user/".concat(t)).then((function(t){e({type:F,payload:t.data.posts})})).catch((function(){e({type:F,payload:null})}))})),v.a.get("/user/".concat(O)).then((function(e){l(e.data.user)})).catch((function(e){console.log(e)}))}),[e,O,h]);var x=c?Object(G.jsx)(Qe,{}):0===a.length?Object(G.jsx)("p",{style:{textAlign:"center"},children:"No posts from this user."}):b?a.map((function(e){return e.postId!==b?Object(G.jsx)(ke,{post:e},e.postId):Object(G.jsx)(ke,{post:e,openDialog:!0},e.postId)})):a.map((function(e){return Object(G.jsx)(ke,{post:e},e.postId)}));return Object(G.jsxs)(te.a,{container:!0,children:[Object(G.jsx)(te.a,{item:!0,sm:4,xs:12,children:null===s?Object(G.jsx)(Ze,{}):Object(G.jsx)(Ot,{profile:s})}),Object(G.jsx)(te.a,{item:!0,sm:8,xs:12,children:x})]})},xt=Object(bt.a)(at);v.a.defaults.baseURL="https://asia-south1-social-media-a38ca.cloudfunctions.net/api";var mt=localStorage.FBIdToken;mt&&(1e3*Object(He.a)(mt).exp<Date.now()?(window.location.href="/login",dt.dispatch(Y())):(dt.dispatch({type:y}),v.a.defaults.headers.common.Authorization=mt,dt.dispatch(L())));var ft=function(){return Object(G.jsx)(ut.a,{theme:xt,children:Object(G.jsx)(m.a,{store:dt,children:Object(G.jsxs)(f.a,{children:[Object(G.jsx)($,{}),Object(G.jsx)("div",{className:"container",children:Object(G.jsxs)(ee.d,{children:[Object(G.jsx)(ee.b,{exact:!0,path:"/",component:Ge}),Object(G.jsx)(tt,{path:"/login",component:ie}),Object(G.jsx)(tt,{path:"/signup",component:se}),Object(G.jsx)(ee.b,{exact:!0,path:"/users/:handle",component:ht}),Object(G.jsx)(ee.b,{exact:!0,path:"/users/:handle/post/:postId",component:ht})]})})]})})})};r.a.render(Object(G.jsx)(G.Fragment,{children:Object(G.jsx)(ft,{})}),document.getElementById("root"))}},[[148,1,2]]]);
//# sourceMappingURL=main.14485755.chunk.js.map